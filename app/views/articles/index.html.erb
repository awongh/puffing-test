<h1>Articles#index</h1>
<p>Find me in app/views/articles/index.html.erb</p>
<h1 id="hello"></h1>
<script>
  // Example POST method implementation:
  async function postData(url = "", data = {}) {
    // Default options are marked with *

    // from: https://stackblitz.com/edit/shopify-hydrogen-zlmnjh?title=Hydrogen
    const response = await fetch(url, {
      method: "POST", // *GET, POST, PUT, DELETE, etc.
      mode: "cors", // no-cors, *cors, same-origin
      cache: "no-cache", // *default, no-cache, reload, force-cache, only-if-cached
      credentials: "same-origin", // include, *same-origin, omit
      headers: {
        "Content-Type": "application/json",
        // 'Content-Type': 'application/x-www-form-urlencoded',
        "Accept-Encoding": "gzip, deflate, br",
        "Accept-Language": "en-US,en;q=0.9",
        "Connection": "keep-alive",
        "Content-Length": "1861",
        "Host": "jtjtjt34.myshopify.com",
        "Sec-Fetch-Dest": "empty",
        "Sec-Fetch-Mode": "cors",
        "Sec-Fetch-Site": "cross-site",
        "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/42.0.2311.135 Safari/537.36 Edge/12.246",
        "accept": "*/*",
        "content-type": "application/json",
        "x-shopify-storefront-access-token": "3b580e70970c4528da70c98e097c2fa0"
      },
      body: JSON.stringify(data), // body data type must match "Content-Type" header

    });
    return response.json(); // parses JSON response into native JavaScript objects
  }

  try{
    setTimeout(async ()=>{
      const element = document.querySelector('#hello');

          const query = {"query":"query homeShopInfo {\n  shop {\n    description\n  }\n}","variables":{}};
      const data2 = await postData("https://hydrogen-preview.myshopify.com/api/2022-04/graphql.json", query);

      console.log('data2',data2);
      element.innerText = element.innerText + JSON.stringify(data2);

    },1000);

  }catch(e){
    console.log('error',e);
    throw 'damn, error';
  }
</script>
